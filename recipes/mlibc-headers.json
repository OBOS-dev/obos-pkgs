{
    "name": "mlibc-headers",
    "description": "mlibc header files",
    "version": [],
    "git-url": "https://github.com/OBOS-dev/mlibc",
    "git-commit": "master",
    "depends": [],
    "build-depends": [ "linux-kernel-headers" ],
    "patches": [],
    "bootstrap-commands": [
        [ "chmod", "+x", "${root_directory}/scripts/generate-mlibc-cross-file.sh" ],
    	[ "${root_directory}/scripts/generate-meson-cross-file.sh", "${target_triplet}", "${host_prefix}/bootstrap-gcc/bin/", "../mlibc-cross-file.txt" ],
        [ "${root_directory}/scripts/resolve-symlinks.sh", "${repo_directory}/mlibc" ],
        [ "rmdir", "${bin_package_prefix}" ],
	    [
            "meson",
            "setup",
            ".", "${repo_directory}/mlibc/",
            "--cross-file", "../mlibc-cross-file.txt",
            "--prefix", "${prefix}",
            "--buildtype", "debugoptimized",
	        "-Duse_freestnd_hdrs=enabled",
            "--wipe",
            "-Dheaders_only=true",
            "-Dlinux_kernel_headers=${destdir}/${prefix}/include"
        ],
        [ "mkdir", "${bin_package_prefix}" ]
    ],
    "build-commands": [],
    "install-commands": [
        [ "meson", "install", "--destdir=${destdir}" ],
        [ "meson", "install", "--destdir=${bin_package_prefix}" ]
    ]
}
