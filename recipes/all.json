{
    "name": "all",
    "description": "All packages.",
    "comment1": "Use OBOS' first commit, as obos-strap doesn't support having sourceless packages",
    "url": "https://github.com/OBOS-dev/obos/archive/244eec76e74ea96a813cac7bb79a520048e6ebc6.tar.gz",
    "depends": [
        "mlibc",
        "bash",
        "coreutils",
        "diffutils",
        "grep",
        "hello",
        "oboskrnl"
    ],
    "patches": [],
    "bootstrap-commands": [],
    "build-commands": [],
    "install-commands": [
        [ "rm", "-rf", "${prefix}/usr/bin" ],
        [ "rm", "-rf", "${prefix}/usr/share" ],
        [ "ln", "-s", "${prefix}/bin", "${prefix}/usr" ],
        [ "ln", "-s", "${prefix}/share", "${prefix}/usr" ],
        [ "rm", "-rf", "${bootstrap_directory}/oboskrnl/tar/usr" ],
        [ "cp", "-Lr", "${prefix}/usr/", "${bootstrap_directory}/oboskrnl/tar/" ],
        [ "mkdir", "-p", "${bootstrap_directory}/oboskrnl/tar/lib" ],
        [ "cp", "${prefix}/lib/ld64.so.1", "${bootstrap_directory}/oboskrnl/tar/lib/" ],
        [
            "cp",
            "${repo_directory}/obos/out/mem-usage",
            "${repo_directory}/obos/out/klog-level",
            "${repo_directory}/obos/out/obos-gettime",
            "${repo_directory}/obos/out/fork-test",
            "${repo_directory}/obos/out/powerctl",
            "${bootstrap_directory}/oboskrnl/tar/usr/bin/"
        ],
        [ "tar", "-Hustar", "-C${bootstrap_directory}/oboskrnl/tar", "-cf", "${repo_directory}/obos/config/initrd.tar", "." ],
        [ "cmake", "--build", "${bootstrap_directory}/oboskrnl" ],
        [ "cp", "${repo_directory}/obos/out/obos.iso", "${target_prefix}/.." ]
    ]
}
