{
    "name": "libmpfr",
    "description": "Multi-precision floating-point compuation library",
    "version": [ 4,2,2 ],
    "url": "https://www.mpfr.org/mpfr-current/mpfr-4.2.2.tar.xz",
    "depends": [ "mlibc", "libgmp" ],
    "build-depends": [ "cross-gcc" ],
    "patches": [
        {
            "patch": "patches/libmpfr/config.sub.patch",
            "modifies": "mpfr-4.2.2/config.sub"
        }
    ],
    "bootstrap-commands": [
        [ "${root_directory}/scripts/do-autoreconf.sh", "${repo_directory}/mpfr-${version}" ],
        [ 
            "${repo_directory}/mpfr-4.2.2/configure",
            "--prefix", "${prefix}",
            "--host=${target_triplet}",
            "CC=${target_triplet}-gcc",
            "--disable-static"
	    ]
    ],
    "build-commands": [
        [ "make", "all" ]
    ],
    "install-commands": [
        [ "make", "install", "DESTDIR=${destdir}" ],
        [ "make", "install", "DESTDIR=${bin_package_prefix}" ],
        [ "rm", "${destdir}/${prefix}/lib/libmpfr.la" ],
        [ "rm", "${bin_package_prefix}/${prefix}/lib/libmpfr.la" ]
    ]
}
