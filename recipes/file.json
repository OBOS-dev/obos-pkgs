{
    "name": "file",
    "description": "UNIX file command",
    "version": [ 5,4,6 ],
    "url": "https://github.com/file/file/archive/refs/tags/FILE5_46.tar.gz",
    "depends": [ "mlibc" ],
    "build-depends": [ "cross-gcc" ],
    "patches": [
        {
            "patch": "patches/file/apprentice.c.patch",
            "modifies": "file-FILE5_46/src/apprentice.c"
        }
    ],
    "bootstrap-commands": [
        [ "cd", "${repo_directory}/file-FILE5_46/" ],
        [ "autoreconf", "--install" ],
        [ "autoconf" ],
        [ "patch", "./config.sub", "../../patches/file/config.sub.patch" ],
        [ "cd", "${bootstrap_directory}/${name}" ],
        [ "echo", "$$PWD" ],
        [ "${repo_directory}/file-FILE5_46/configure", "--prefix=${prefix}", "--host=${target_triplet}" ]
    ],
    "build-commands": [
        [ "make", "all" ]
    ],
    "install-commands": [
        [ "make", "install", "DESTDIR=${destdir}" ],
        [ "make", "install", "DESTDIR=${bin_package_prefix}" ]
    ]
}
